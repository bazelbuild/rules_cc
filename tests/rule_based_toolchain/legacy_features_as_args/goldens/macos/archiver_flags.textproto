enabled: false
flag_sets {
  actions: "c++-link-static-library"
  flag_groups {
    expand_if_available: "output_execpath"
    flags: "-D"
    flags: "-no_warning_for_no_symbols"
    flags: "-static"
  }
  with_features {
    features: "compiler_clang"
  }
  with_features {
    features: "compiler_gcc"
  }
  with_features {
    features: "compiler_mingw_gcc"
  }
  with_features {
    features: "compiler_emscripten"
  }
}
flag_sets {
  actions: "c++-link-static-library"
  flag_groups {
    expand_if_available: "output_execpath"
    flags: "-o"
    flags: "%{output_execpath}"
  }
  with_features {
    features: "compiler_clang"
  }
  with_features {
    features: "compiler_gcc"
  }
  with_features {
    features: "compiler_mingw_gcc"
  }
  with_features {
    features: "compiler_emscripten"
  }
}
flag_sets {
  actions: "c++-link-static-library"
  flag_groups {
    expand_if_available: "output_execpath"
    flags: "/OUT:%{output_execpath}"
  }
  with_features {
    features: "compiler_msvc_cl"
  }
  with_features {
    features: "compiler_clang_cl"
  }
}
flag_sets {
  actions: "c++-link-static-library"
  flag_groups {
    expand_if_available: "libraries_to_link"
    flag_groups {
      flag_groups {
        expand_if_equal {
          name: "libraries_to_link.type"
          value: "object_file"
        }
        flags: "%{libraries_to_link.name}"
      }
      flag_groups {
        expand_if_equal {
          name: "libraries_to_link.type"
          value: "object_file_group"
        }
        flags: "%{libraries_to_link.object_files}"
        iterate_over: "libraries_to_link.object_files"
      }
      iterate_over: "libraries_to_link"
    }
  }
}
name: "archiver_flags_test"
